{% extends "appbuilder/base.html" %}

<!-- Load css -->
{% block head_css %}
{{ super() }}

<link href="{{url_for('static',filename='c3/c3.css')}}" rel="stylesheet" type="text/css">
{% endblock %}

<!-- Load js -->
{% block head_js %}
{{ super() }}

<script src="{{url_for('static',filename='d3/d3.min.js')}}" charset="utf-8"></script>
<script src="{{url_for('static',filename='c3/c3.min.js')}}"></script> 
{% endblock %}

{% block content %}
<div clas="container">
    <h2>{{graph_header}}</h2>
    <div id="chart"></div>
    <script type="text/javascript">
      
    var chart = c3.generate({
        data: {
            x: 'x',
            //xFormat: '%Y%m%d',
            rows: [
              ['x', 'Available', 'Requested'],
              <!--graph data here-->
              {% for a,b,c in graph_data %}
              ['{{a}}',{{b}},{{c}}],
              {% endfor %}
              ]
        },
        axis: {
            x: {
                type: 'timeseries',
                tick: {
                    format: '%Y-%m-%d'
                }
            }
        }
    });

    </script>
</div>


<div class="container">
hello world !!! 
              {% for each in graph_data %}
                  <p>{{each}}</p>,
              {% endfor %}

</div>

{% endblock %}